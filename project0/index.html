<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Favourite Movie Collection</title>
        <meta name="description" content="A collection of my favourite movies.">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/semantic-ui/2.2.6/semantic.min.css">
        <!-- Double curly braces are used because this template will be used by python's template string mechanism -->
        <style>
            .main.container {{
                margin-top: 3em;
            }}
            .ui.modal {{
                background: #000;
            }}
        </style>
    </head>
    <body>
        <!--[if lte IE 9]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
        <![endif]-->
        <div class="ui fixed inverted menu">
            <div class="ui container">
                <span class="header item">My Favourite Movies</span>
            </div>
        </div>
        <div class="ui main three column grid container">
<!-- This variable is not indented like surrounding elements because it represents a missing part of the document, not DOM element -->
{payload}
        </div>
        <div class="ui large modal" />
        <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
        <script> window.jQuery || document.write('<script src="js/vendor/jquery-3.1.1.min.js"><\/script>')</script>
        <script src="https://cdn.jsdelivr.net/semantic-ui/2.2.6/semantic.min.js"></script>
        <script type="text/javascript">
            const iframeFromYT = (youtubeId) => 
                `<iframe width=100% height=600em frameborder="0" allowfullscreen
                         src="https://www.youtube.com/embed/${{youtubeId}}?autoplay=1&html5=1" />`;
            const setModal = content => $('.large.modal').html(content);
            const showModal = (e) => {{
                // youtube links are stored in data-yt parameter on buttons for easy retrieval
                const html = iframeFromYT(e.target.dataset.yt);
                setModal(html);
                $('.large.modal').modal("show");
            }};
            // clear modal element when it's invisible
            $('.large.modal').modal({{
            onHidden: () => setModal("")
            }});
            // add event listeners to view trailers
            $(".button").on("click", showModal);
        </script>
    </body>
</html>